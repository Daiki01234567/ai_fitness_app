# テスト結果レポート

## 基本情報

| 項目 | 内容 |
|------|------|
| **テスト実施日** | YYYY-MM-DD |
| **テスト担当者** | （氏名） |
| **テスト対象** | Ticket #007: ユーザー認証機能 |
| **テスト環境** | □ ローカル  □ ステージング  □ 本番 |
| **Flutterバージョン** | X.X.X |
| **Node.jsバージョン** | X.X.X |

---

## テスト結果サマリー

| カテゴリ | 合計 | 成功 | 失敗 | スキップ | 成功率 |
|----------|------|------|------|----------|--------|
| AuthNotifier単体テスト | | | | | % |
| バリデーションテスト | | | | | % |
| Cloud Functionsテスト | | | | | % |
| 統合テスト | | | | | % |
| **合計** | | | | | **%** |

---

## 1. AuthNotifier単体テスト結果

### 1.1 ログイン機能

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 正常ログイン | □ Pass □ Fail | |
| 不正パスワード | □ Pass □ Fail | |
| 存在しないユーザー | □ Pass □ Fail | |
| ネットワークエラー | □ Pass □ Fail | |
| ローディング状態 | □ Pass □ Fail | |

### 1.2 登録機能

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 正常登録 | □ Pass □ Fail | |
| 重複メール | □ Pass □ Fail | |
| 弱いパスワード | □ Pass □ Fail | |
| プロフィール保存 | □ Pass □ Fail | |

### 1.3 ログアウト機能

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 正常ログアウト | □ Pass □ Fail | |
| 強制ログアウト | □ Pass □ Fail | |

### 1.4 パスワードリセット

| テストケース | 結果 | 備考 |
|--------------|------|------|
| リセットメール送信 | □ Pass □ Fail | |
| 存在しないメール | □ Pass □ Fail | |

### 1.5 自動ログイン

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 保存トークンでの復元 | □ Pass □ Fail | |
| トークンリフレッシュ | □ Pass □ Fail | |

---

## 2. バリデーションテスト結果

### 2.1 メールバリデーション

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 有効なメール形式 | □ Pass □ Fail | |
| 無効な形式（@なし） | □ Pass □ Fail | |
| 無効な形式（ドメインなし） | □ Pass □ Fail | |
| 空文字 | □ Pass □ Fail | |

### 2.2 パスワードバリデーション

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 強いパスワード | □ Pass □ Fail | |
| 短すぎる（8文字未満） | □ Pass □ Fail | |
| 大文字なし | □ Pass □ Fail | |
| 数字なし | □ Pass □ Fail | |
| 特殊文字なし | □ Pass □ Fail | |

### 2.3 名前バリデーション

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 有効な名前 | □ Pass □ Fail | |
| 空文字 | □ Pass □ Fail | |
| 50文字超過 | □ Pass □ Fail | |

### 2.4 生年月日バリデーション

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 有効な日付（13歳以上） | □ Pass □ Fail | |
| 13歳未満 | □ Pass □ Fail | |
| 120歳超過 | □ Pass □ Fail | |

### 2.5 身長・体重バリデーション

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 有効な身長（100-250cm） | □ Pass □ Fail | |
| 範囲外の身長 | □ Pass □ Fail | |
| 有効な体重（30-200kg） | □ Pass □ Fail | |
| 範囲外の体重 | □ Pass □ Fail | |

---

## 3. Cloud Functionsテスト結果

### 3.1 onUserCreate トリガー

| テストケース | 結果 | 備考 |
|--------------|------|------|
| ドキュメント作成 | □ Pass □ Fail | |
| デフォルト値設定 | □ Pass □ Fail | |
| カスタムクレーム設定 | □ Pass □ Fail | |

### 3.2 auth_signUp API

| テストケース | 結果 | 備考 |
|--------------|------|------|
| 正常登録 | □ Pass □ Fail | |
| 同意記録作成 | □ Pass □ Fail | |
| 未認証エラー | □ Pass □ Fail | |
| CSRF保護 | □ Pass □ Fail | |

### 3.3 updateProfile API

| テストケース | 結果 | 備考 |
|--------------|------|------|
| プロフィール更新 | □ Pass □ Fail | |
| 監査ログ記録 | □ Pass □ Fail | |
| バリデーションエラー | □ Pass □ Fail | |
| 削除予定ユーザー拒否 | □ Pass □ Fail | |

### 3.4 カスタムクレームAPI

| テストケース | 結果 | 備考 |
|--------------|------|------|
| クレーム設定 | □ Pass □ Fail | |
| クレーム削除 | □ Pass □ Fail | |
| 管理者権限チェック | □ Pass □ Fail | |

---

## 4. 統合テスト結果

### 4.1 新規登録フロー

| ステップ | 結果 | 備考 |
|----------|------|------|
| Step1入力 → Step2遷移 | □ Pass □ Fail | |
| Step2入力 → 登録完了 | □ Pass □ Fail | |
| ホーム画面遷移 | □ Pass □ Fail | |
| Firestore確認 | □ Pass □ Fail | |

### 4.2 ログイン → ログアウトフロー

| ステップ | 結果 | 備考 |
|----------|------|------|
| ログイン成功 | □ Pass □ Fail | |
| ホーム画面表示 | □ Pass □ Fail | |
| ログアウト実行 | □ Pass □ Fail | |
| ログイン画面遷移 | □ Pass □ Fail | |

---

## 5. 検出された問題

### 問題 #1
- **深刻度**: □ Critical □ High □ Medium □ Low
- **テストケース**:
- **期待結果**:
- **実際結果**:
- **再現手順**:
- **スクリーンショット**: （あれば添付）

### 問題 #2
- **深刻度**: □ Critical □ High □ Medium □ Low
- **テストケース**:
- **期待結果**:
- **実際結果**:
- **再現手順**:
- **スクリーンショット**: （あれば添付）

---

## 6. 結論と推奨事項

### 6.1 全体評価
□ すべてのテストがパス - リリース可能
□ 軽微な問題あり - 修正後リリース可能
□ 重大な問題あり - 修正必須
□ テスト継続不可 - ブロッカー発生

### 6.2 推奨事項
1.
2.
3.

### 6.3 次のアクション
- [ ]
- [ ]
- [ ]

---

## 7. 署名

| 役割 | 氏名 | 日付 | 署名 |
|------|------|------|------|
| テスト担当者 | | | |
| レビュアー | | | |
| 承認者 | | | |

---

## 添付資料

- [ ] テスト実行ログ
- [ ] スクリーンショット
- [ ] エラーログ
- [ ] その他

---

*このテンプレートはTicket #007用に作成されました。他のチケットでも流用可能です。*
