# AIフィットネスアプリ 開発環境セットアップガイド

**対象**: 中学生〜高校生・初心者プログラマー
**最終更新**: 2025年12月10日

---

## このガイドについて

このガイドでは、AIフィットネスアプリの開発を始めるために必要な準備を、ゼロから説明します。

プログラミングやアプリ開発が初めての人でも分かるように、専門用語にはすべて説明をつけています。

---

## 必要なもの

### 1. パソコン

- **Windows 10以降** または **macOS**
- メモリ: 8GB以上（推奨16GB）
- 空き容量: 10GB以上

### 2. インターネット接続

- 安定したWi-Fi環境

---

## ステップ1: Node.jsのインストール

**Node.js（ノード・ジェイエス）** とは、JavaScriptというプログラミング言語をパソコンで動かすためのソフトです。

### インストール手順

1. **公式サイトにアクセス**
   - ブラウザで https://nodejs.org/ を開く

2. **LTS版をダウンロード**
   - 「LTS」と書かれた緑色のボタンをクリック
   - LTS = Long Term Support（長期サポート版）= 安定版

3. **インストーラーを実行**
   - ダウンロードしたファイルをダブルクリック
   - 「Next」や「次へ」を何度かクリックしてインストール

4. **確認**
   - コマンドプロンプト（Windows）またはターミナル（Mac）を開く
   - 以下のコマンドを入力してEnterキーを押す:
   ```bash
   node --version
   ```
   - `v20.x.x` のようなバージョン番号が表示されればOK

---

## ステップ2: Gitのインストール

**Git（ギット）** とは、プログラムのコードを管理するためのツールです。コードの変更履歴を記録したり、チームで共同作業したりするときに使います。

### インストール手順

#### Windowsの場合

1. **公式サイトにアクセス**
   - https://git-scm.com/downloads

2. **ダウンロード**
   - 「Download for Windows」をクリック

3. **インストール**
   - ダウンロードしたファイルを実行
   - 基本的に全て「Next」で進めてOK

#### Macの場合

1. **ターミナルを開く**
   - Spotlight検索（Command + Space）で「ターミナル」と入力

2. **Homebrewをインストール**（まだの場合）
   ```bash
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
   ```

3. **Gitをインストール**
   ```bash
   brew install git
   ```

### 確認

```bash
git --version
```
バージョン番号が表示されればOK

---

## ステップ3: Firebase CLIのインストール

**Firebase CLI（ファイアベース・シーエルアイ）** とは、Googleが提供するクラウドサービス「Firebase」を操作するためのツールです。

### インストール手順

1. **コマンドプロンプトまたはターミナルを開く**

2. **以下のコマンドを実行**
   ```bash
   npm install -g firebase-tools
   ```

   **説明**:
   - `npm` = Node.jsのパッケージ（ツール）をインストールするコマンド
   - `-g` = グローバル（パソコン全体）にインストールする
   - `firebase-tools` = Firebaseを操作するツール

3. **確認**
   ```bash
   firebase --version
   ```
   バージョン番号が表示されればOK

---

## ステップ4: Firebaseにログイン

### ログイン手順

1. **ログインコマンドを実行**
   ```bash
   firebase login
   ```

2. **ブラウザが開く**
   - Googleアカウントでログイン
   - 「Firebaseへのアクセスを許可しますか？」→ 「許可」をクリック

3. **ターミナルに戻る**
   - 「Success! Logged in as (あなたのメールアドレス)」と表示されればOK

### ログイン状態の確認

```bash
firebase login:list
```
自分のメールアドレスが表示されればログイン中

---

## ステップ5: プロジェクトをクローン（ダウンロード）

**クローン** とは、GitHubなどに保存されているプロジェクトのコードを、自分のパソコンにコピーすることです。

### クローン手順

1. **作業用フォルダに移動**
   ```bash
   cd Desktop
   ```

   **説明**:
   - `cd` = Change Directory（フォルダ移動）
   - デスクトップに移動する例

2. **プロジェクトをクローン**
   ```bash
   git clone <プロジェクトのURL>
   cd ai_fitness_app
   ```

3. **確認**
   ```bash
   ls
   ```

   **説明**:
   - `ls` = List（ファイル一覧を表示）
   - Windowsの場合は `dir` でもOK

   以下のようなフォルダ・ファイルが見えればOK:
   - `docs/`
   - `functions/`
   - `firebase/`
   - `firebase.json`

---

## ステップ6: 依存パッケージのインストール

**依存パッケージ** とは、このプロジェクトが動くために必要な他のプログラムやツールのことです。

### Cloud Functionsの依存パッケージ

1. **functionsフォルダに移動**
   ```bash
   cd functions
   ```

2. **パッケージをインストール**
   ```bash
   npm install
   ```

   **説明**:
   - `package.json` というファイルに書かれている全パッケージをインストール
   - 初回は数分かかる場合があります

3. **確認**
   ```bash
   ls node_modules
   ```
   - たくさんのフォルダが表示されればOK

### Firebaseテスト用の依存パッケージ

1. **firebaseフォルダに移動**
   ```bash
   cd ../firebase
   ```

   **説明**:
   - `../` = 一つ上のフォルダに戻る

2. **パッケージをインストール**
   ```bash
   npm install
   ```

3. **プロジェクトルートに戻る**
   ```bash
   cd ..
   ```

---

## ステップ7: Firebaseプロジェクトを選択

### プロジェクト選択手順

1. **プロジェクト一覧を確認**
   ```bash
   firebase projects:list
   ```

2. **プロジェクトを選択**
   ```bash
   firebase use tokyo-list-478804-e5
   ```

3. **確認**
   ```bash
   firebase use
   ```
   - `Active Project: tokyo-list-478804-e5` と表示されればOK

---

## ステップ8: Firebaseエミュレータを起動

**エミュレータ** とは、本番環境（実際のユーザーが使う環境）を真似た開発用の環境です。エミュレータを使うと、本番に影響を与えずに開発やテストができます。

### エミュレータ起動手順

1. **プロジェクトルートにいることを確認**
   ```bash
   pwd
   ```
   - `/path/to/ai_fitness_app` のように表示されればOK

2. **エミュレータを起動**
   ```bash
   firebase emulators:start
   ```

3. **成功メッセージを確認**
   ```
   ┌─────────────────────────────────────────────────────────────┐
   │ ✔  All emulators ready! It is now safe to connect your app. │
   │ i  View Emulator UI at http://localhost:4000                │
   └─────────────────────────────────────────────────────────────┘
   ```

4. **ブラウザでエミュレータUIを開く**
   - http://localhost:4000 にアクセス
   - Firebaseのロゴが見えればOK

### エミュレータの種類

起動すると、以下のエミュレータが立ち上がります:

| サービス | ポート番号 | 説明 |
|---------|----------|------|
| Authentication | 9099 | ログイン・ユーザー管理 |
| Firestore | 8080 | データベース |
| Functions | 5001 | サーバー側プログラム |
| Storage | 9199 | ファイル保存 |
| UI | 4000 | 管理画面 |

---

## ステップ9: テストを実行

開発環境が正しくセットアップできたか、テストで確認します。

### Cloud Functionsのテスト

1. **functionsフォルダに移動**
   ```bash
   cd functions
   ```

2. **テストを実行**
   ```bash
   npm test
   ```

3. **結果を確認**
   - `Tests: X passed, X total` のように表示されればOK
   - `FAIL` が表示されたら、何かが間違っています

### Firestoreセキュリティルールのテスト

1. **firebaseフォルダに移動**
   ```bash
   cd ../firebase
   ```

2. **テストを実行**
   ```bash
   npm test
   ```

3. **結果を確認**
   - 同じく全テストがパスすればOK

---

## トラブルシューティング

### エラー: `command not found: firebase`

**原因**: Firebase CLIがインストールされていない、またはパスが通っていない

**解決策**:
```bash
npm install -g firebase-tools
```

### エラー: `Port 8080 is already in use`

**原因**: 別のプログラムがポート8080を使っている

**解決策**:
1. エミュレータを停止（Ctrl + C）
2. ポートを使っているプログラムを終了
3. 再度エミュレータを起動

Windowsの場合:
```bash
netstat -ano | findstr :8080
taskkill /PID <プロセスID> /F
```

### エラー: `npm ERR! code EACCES`

**原因**: 権限がない

**解決策（Mac/Linux）**:
```bash
sudo npm install -g firebase-tools
```

---

## 次のステップ

開発環境のセットアップが完了したら:

1. **02_テストの実行方法.md** - テストの詳しい実行方法
2. **03_Cloud_Functionsの開発.md** - APIの開発方法
3. **04_デプロイ方法.md** - 本番環境への公開方法

---

## 用語集

| 用語 | 読み方 | 意味 |
|------|--------|------|
| Node.js | ノード・ジェイエス | JavaScriptをパソコンで動かすソフト |
| npm | エヌピーエム | Node.jsのパッケージ管理ツール |
| Git | ギット | コードのバージョン管理ツール |
| Firebase | ファイアベース | Googleのクラウドサービス |
| CLI | シーエルアイ | コマンドラインインターフェース（コマンドで操作するツール） |
| エミュレータ | - | 本番環境を真似た開発用環境 |
| ポート | - | プログラムが通信に使う出入口の番号 |

---

## ヘルプとサポート

困ったときは:

1. **エラーメッセージをよく読む**
   - 何が間違っているか書いてあることが多い

2. **ドキュメントを確認**
   - `docs/common/` にある他のドキュメントを読む

3. **チームに質問**
   - 分からないことは遠慮なく質問しましょう！

---

**おめでとうございます！** 🎉

開発環境のセットアップが完了しました。次のステップに進みましょう！
